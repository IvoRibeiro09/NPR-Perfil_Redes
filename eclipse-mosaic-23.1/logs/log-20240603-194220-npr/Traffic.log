2024-06-03 19:42:20,897 WARN  SumoGuiAmbassador - The file scenarios/npr/sumo/sumo_config.json does not exist.
2024-06-03 19:42:20,899 INFO  SumoGuiAmbassador - sumoConfig.updateInterval: 1000
2024-06-03 19:42:20,900 INFO  SumoGuiAmbassador - sumoConfig.sumoConfigurationFile: null
2024-06-03 19:42:20,906 INFO  SumoGuiAmbassador - Found a SUMO configuration file: scenarios/npr/sumo/npr.sumocfg
2024-06-03 19:42:20,907 INFO  SumoGuiAmbassador - sumoConfig.sumoConfigurationFile: npr.sumocfg
2024-06-03 19:42:20,933 INFO  SumoGuiAmbassador - Simulation step size is 1.0 sec.
2024-06-03 19:42:21,966 INFO  SumoVehicleTypesWriter - ./tmp/sumo/mosaic_types.add.xml file successfully written.
2024-06-03 19:42:21,966 INFO  SumoGuiAmbassador - Start Federate local
2024-06-03 19:42:21,966 INFO  SumoGuiAmbassador - Directory: ./tmp/sumo
2024-06-03 19:42:21,979 WARN  SumoGuiAmbassador - Error while connecting to SUMO. Retrying.
2024-06-03 19:42:22,993 INFO  SumoGuiAmbassador - Process sumo: Loading configuration ... done.
2024-06-03 19:42:26,853 WARN  TraciClientBridge - This TraCI API version 21 is currently not supported (but might work anyhow).
2024-06-03 19:42:26,868 INFO  SumoGuiAmbassador - Current API version of SUMO is 20 (=SUMO 1.18.*)
2024-06-03 19:42:27,013 WARN  TrafficLightGetControlledJunctions - Could not return list of controlled junctions for traffic light. Not implemented in SUMO yet.
2024-06-03 19:42:27,112 INFO  SumoGuiAmbassador - TrafficLightSubscription interaction received at simulation time 0.000,000,000 s: Subscribe to Traffic light group with ID=J9
2024-06-03 19:42:27,131 INFO  SumoGuiAmbassador - Receive TrafficLightStateChange request
2024-06-03 19:42:27,131 INFO  SumoGuiAmbassador - Changing program of traffic light group 'J9' to program id '0'
2024-06-03 19:42:28,108 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_0" received at simulation time 5000000000 ns (subscribe=true)
2024-06-03 19:42:28,108 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_1" received at simulation time 5000000000 ns (subscribe=true)
2024-06-03 19:42:28,108 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_2" received at simulation time 5000000000 ns (subscribe=true)
2024-06-03 19:42:28,108 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_3" received at simulation time 5000000000 ns (subscribe=true)
2024-06-03 19:42:28,108 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_4" received at simulation time 5000000000 ns (subscribe=true)
2024-06-03 19:42:28,108 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_5" received at simulation time 5000000000 ns (subscribe=true)
2024-06-03 19:42:28,109 INFO  SumoGuiAmbassador - Adding new vehicle "veh_0" at simulation time 5000000000 ns (type=Car, routeId=r_0, laneId=best, departPos=0.00)
2024-06-03 19:42:28,113 INFO  SumoGuiAmbassador - Adding new vehicle "veh_1" at simulation time 5000000000 ns (type=Car, routeId=r_2, laneId=best, departPos=0.00)
2024-06-03 19:42:28,114 INFO  SumoGuiAmbassador - Adding new vehicle "veh_2" at simulation time 5000000000 ns (type=Car, routeId=r_1, laneId=best, departPos=0.00)
2024-06-03 19:42:28,116 INFO  SumoGuiAmbassador - Adding new vehicle "veh_3" at simulation time 5000000000 ns (type=Car, routeId=r_4, laneId=best, departPos=0.00)
2024-06-03 19:42:28,117 INFO  SumoGuiAmbassador - Adding new vehicle "veh_4" at simulation time 5000000000 ns (type=Car, routeId=r_3, laneId=best, departPos=0.00)
2024-06-03 19:42:28,118 INFO  SumoGuiAmbassador - Adding new vehicle "veh_5" at simulation time 5000000000 ns (type=Car, routeId=r_5, laneId=best, departPos=0.00)
2024-06-03 19:42:30,861 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.000,900,000 s: vehicleId="veh_3", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,861 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.000,900,000 s: vehicleId="veh_0", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,863 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.001,400,000 s: vehicleId="veh_4", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,864 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.001,800,000 s: vehicleId="veh_4", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,865 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.001,800,000 s: vehicleId="veh_5", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,865 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.001,800,000 s: vehicleId="veh_0", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,866 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.001,900,000 s: vehicleId="veh_5", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,866 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.001,900,000 s: vehicleId="veh_1", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,868 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.002,800,000 s: vehicleId="veh_2", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:30,868 INFO  SumoGuiAmbassador - Receive VehicleSlowDown request at simulation time 16.003,300,000 s: vehicleId="veh_1", targetSpeed=3.0m/s, interval=5000000000ms
2024-06-03 19:42:33,849 INFO  SimulationFacade - Removed vehicle "veh_3" at simulation time 28000000000ns
2024-06-03 19:42:34,349 INFO  SimulationFacade - Removed vehicle "veh_4" at simulation time 30000000000ns
2024-06-03 19:42:34,349 INFO  SimulationFacade - Removed vehicle "veh_1" at simulation time 30000000000ns
2024-06-03 19:42:34,599 INFO  SimulationFacade - Removed vehicle "veh_2" at simulation time 31000000000ns
2024-06-03 19:42:35,099 INFO  SimulationFacade - Removed vehicle "veh_5" at simulation time 33000000000ns
2024-06-03 19:42:35,099 INFO  SimulationFacade - Removed vehicle "veh_0" at simulation time 33000000000ns
2024-06-03 19:42:37,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_6" received at simulation time 41000000000 ns (subscribe=true)
2024-06-03 19:42:37,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_7" received at simulation time 41000000000 ns (subscribe=true)
2024-06-03 19:42:37,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_8" received at simulation time 41000000000 ns (subscribe=true)
2024-06-03 19:42:37,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_9" received at simulation time 41000000000 ns (subscribe=true)
2024-06-03 19:42:37,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_10" received at simulation time 41000000000 ns (subscribe=true)
2024-06-03 19:42:37,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_11" received at simulation time 41000000000 ns (subscribe=true)
2024-06-03 19:42:37,103 INFO  SumoGuiAmbassador - Adding new vehicle "veh_6" at simulation time 41000000000 ns (type=Car, routeId=r_0, laneId=best, departPos=0.00)
2024-06-03 19:42:37,104 INFO  SumoGuiAmbassador - Adding new vehicle "veh_7" at simulation time 41000000000 ns (type=Car, routeId=r_2, laneId=best, departPos=0.00)
2024-06-03 19:42:37,104 INFO  SumoGuiAmbassador - Adding new vehicle "veh_8" at simulation time 41000000000 ns (type=Car, routeId=r_1, laneId=best, departPos=0.00)
2024-06-03 19:42:37,106 INFO  SumoGuiAmbassador - Adding new vehicle "veh_9" at simulation time 41000000000 ns (type=Car, routeId=r_4, laneId=best, departPos=0.00)
2024-06-03 19:42:37,107 INFO  SumoGuiAmbassador - Adding new vehicle "veh_10" at simulation time 41000000000 ns (type=Car, routeId=r_3, laneId=best, departPos=0.00)
2024-06-03 19:42:37,108 INFO  SumoGuiAmbassador - Adding new vehicle "veh_11" at simulation time 41000000000 ns (type=Car, routeId=r_5, laneId=best, departPos=0.00)
2024-06-03 19:42:41,602 INFO  SimulationFacade - Removed vehicle "veh_9" at simulation time 59000000000ns
2024-06-03 19:42:41,852 INFO  SimulationFacade - Removed vehicle "veh_7" at simulation time 60000000000ns
2024-06-03 19:42:42,351 INFO  SimulationFacade - Removed vehicle "veh_8" at simulation time 62000000000ns
2024-06-03 19:42:42,352 INFO  SimulationFacade - Removed vehicle "veh_10" at simulation time 62000000000ns
2024-06-03 19:42:43,101 INFO  SimulationFacade - Removed vehicle "veh_11" at simulation time 65000000000ns
2024-06-03 19:42:43,351 INFO  SimulationFacade - Removed vehicle "veh_6" at simulation time 66000000000ns
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_12" received at simulation time 77000000000 ns (subscribe=true)
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_13" received at simulation time 77000000000 ns (subscribe=true)
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_14" received at simulation time 77000000000 ns (subscribe=true)
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_15" received at simulation time 77000000000 ns (subscribe=true)
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_16" received at simulation time 77000000000 ns (subscribe=true)
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - VehicleRegistration from RTI "veh_17" received at simulation time 77000000000 ns (subscribe=true)
2024-06-03 19:42:46,102 INFO  SumoGuiAmbassador - Adding new vehicle "veh_12" at simulation time 77000000000 ns (type=Car, routeId=r_0, laneId=best, departPos=0.00)
2024-06-03 19:42:46,104 INFO  SumoGuiAmbassador - Adding new vehicle "veh_13" at simulation time 77000000000 ns (type=Car, routeId=r_2, laneId=best, departPos=0.00)
2024-06-03 19:42:46,105 INFO  SumoGuiAmbassador - Adding new vehicle "veh_14" at simulation time 77000000000 ns (type=Car, routeId=r_1, laneId=best, departPos=0.00)
2024-06-03 19:42:46,106 INFO  SumoGuiAmbassador - Adding new vehicle "veh_15" at simulation time 77000000000 ns (type=Car, routeId=r_4, laneId=best, departPos=0.00)
2024-06-03 19:42:46,106 INFO  SumoGuiAmbassador - Adding new vehicle "veh_16" at simulation time 77000000000 ns (type=Car, routeId=r_3, laneId=best, departPos=0.00)
2024-06-03 19:42:46,107 INFO  SumoGuiAmbassador - Adding new vehicle "veh_17" at simulation time 77000000000 ns (type=Car, routeId=r_5, laneId=best, departPos=0.00)
2024-06-03 19:42:47,614 ERROR TraciClientBridge - Close all TraCI streams due to an error
java.io.EOFException: null
	at java.base/java.io.DataInputStream.readInt(DataInputStream.java:397)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.readResults(AbstractTraciCommand.java:236)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.executeAndReturnList(AbstractTraciCommand.java:131)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.SimulationSimulateStep.execute(SimulationSimulateStep.java:64)
	at org.eclipse.mosaic.fed.sumo.bridge.facades.SimulationFacade.simulateUntil(SimulationFacade.java:435)
	at org.eclipse.mosaic.fed.sumo.ambassador.AbstractSumoAmbassador.processTimeAdvanceGrant(AbstractSumoAmbassador.java:1227)
	at org.eclipse.mosaic.rti.api.AbstractFederateAmbassador.advanceTime(AbstractFederateAmbassador.java:110)
	at org.eclipse.mosaic.rti.time.SequentialTimeManagement.runSimulation(SequentialTimeManagement.java:91)
	at org.eclipse.mosaic.starter.MosaicSimulation.runSimulation(MosaicSimulation.java:193)
	at org.eclipse.mosaic.starter.MosaicStarter.execute(MosaicStarter.java:132)
	at org.eclipse.mosaic.starter.MosaicStarter.main(MosaicStarter.java:74)
2024-06-03 19:42:47,619 ERROR SumoGuiAmbassador - Error during advanceTime(83000000000)
org.eclipse.mosaic.rti.api.InternalFederateException: Error during reading response from TraCI command SimulationSimulateStep.
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.readResults(AbstractTraciCommand.java:294)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.executeAndReturnList(AbstractTraciCommand.java:131)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.SimulationSimulateStep.execute(SimulationSimulateStep.java:64)
	at org.eclipse.mosaic.fed.sumo.bridge.facades.SimulationFacade.simulateUntil(SimulationFacade.java:435)
	at org.eclipse.mosaic.fed.sumo.ambassador.AbstractSumoAmbassador.processTimeAdvanceGrant(AbstractSumoAmbassador.java:1227)
	at org.eclipse.mosaic.rti.api.AbstractFederateAmbassador.advanceTime(AbstractFederateAmbassador.java:110)
	at org.eclipse.mosaic.rti.time.SequentialTimeManagement.runSimulation(SequentialTimeManagement.java:91)
	at org.eclipse.mosaic.starter.MosaicSimulation.runSimulation(MosaicSimulation.java:193)
	at org.eclipse.mosaic.starter.MosaicStarter.execute(MosaicStarter.java:132)
	at org.eclipse.mosaic.starter.MosaicStarter.main(MosaicStarter.java:74)
Caused by: java.io.EOFException: null
	at java.base/java.io.DataInputStream.readInt(DataInputStream.java:397)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.readResults(AbstractTraciCommand.java:236)
	... 9 common frames omitted
2024-06-03 19:42:47,620 ERROR TraciClientBridge - Close all TraCI streams due to an error
java.net.SocketException: Socket closed
	at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:129)
	at java.base/java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.sendMessageToTraci(AbstractTraciCommand.java:196)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.execute(AbstractTraciCommand.java:113)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.SimulationClose.execute(SimulationClose.java:52)
	at org.eclipse.mosaic.fed.sumo.bridge.TraciClientBridge.close(TraciClientBridge.java:179)
	at org.eclipse.mosaic.fed.sumo.ambassador.SumoGuiAmbassador.finishSimulation(SumoGuiAmbassador.java:68)
	at org.eclipse.mosaic.rti.time.AbstractTimeManagement.finishSimulationRun(AbstractTimeManagement.java:164)
	at org.eclipse.mosaic.starter.MosaicSimulation.runSimulation(MosaicSimulation.java:202)
	at org.eclipse.mosaic.starter.MosaicStarter.execute(MosaicStarter.java:132)
	at org.eclipse.mosaic.starter.MosaicStarter.main(MosaicStarter.java:74)
2024-06-03 19:42:47,621 ERROR TraciClientBridge - Simulation could not be closed properly.
org.eclipse.mosaic.rti.api.InternalFederateException: Error during executing TraCI command SimulationClose
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.sendMessageToTraci(AbstractTraciCommand.java:216)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.execute(AbstractTraciCommand.java:113)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.SimulationClose.execute(SimulationClose.java:52)
	at org.eclipse.mosaic.fed.sumo.bridge.TraciClientBridge.close(TraciClientBridge.java:179)
	at org.eclipse.mosaic.fed.sumo.ambassador.SumoGuiAmbassador.finishSimulation(SumoGuiAmbassador.java:68)
	at org.eclipse.mosaic.rti.time.AbstractTimeManagement.finishSimulationRun(AbstractTimeManagement.java:164)
	at org.eclipse.mosaic.starter.MosaicSimulation.runSimulation(MosaicSimulation.java:202)
	at org.eclipse.mosaic.starter.MosaicStarter.execute(MosaicStarter.java:132)
	at org.eclipse.mosaic.starter.MosaicStarter.main(MosaicStarter.java:74)
Caused by: java.net.SocketException: Socket closed
	at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:129)
	at java.base/java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.eclipse.mosaic.fed.sumo.bridge.traci.AbstractTraciCommand.sendMessageToTraci(AbstractTraciCommand.java:196)
	... 8 common frames omitted
